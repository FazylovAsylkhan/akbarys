@import "../../../scss//utils";

.projects {
  &__wrapper {
    margin-top: 203px;
    grid-column: 1 / span 12;
    width: 100%;
  }
  &__content {
    position: relative;
    width: 100%;
    height: 100%;
    display: grid;
    grid-template-columns: 1.67fr 1fr;
    grid-column-gap: 74px;
    &-description {
      margin-top: 30px;
    }
    &-box {
      display: flex;
      flex-direction: column;
      justify-content: center;
      height: 100%;
      grid-column: 2 / span 1;
    }
    &-image {
      height: 385px;
      grid-column: 1 / span 1;
    }
  }
  &__button {
    &-next,
    &-prev {
      top: -116px;
      right: 0;
      z-index: 1000;
      position: absolute;
    }
    &-prev {
      transform: rotateY(180deg);
      right: 84px;
    }
  }
  &__advantages {
    margin-top: 50px;
    width: 100%;
    grid-column: 1 / span 2;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-column-gap: 30px;
    &-item {
      display: grid;
      transform: translateY(100%);
      opacity: 0;
    }
    & .projects__content-description {
      margin-top: 12px;
    }
  }
  &__slider {
    margin-top: 81px;
    position: relative;
    width: 100%;
    height: 100%;
  }
  &__pagination {
    position: absolute;
    right: 192px;
    top: -121px;
  }
  &__slider-wrapper {
    position: absolute;
    display: flex;
    width: 100%;
    height: 100%;
  }
  &__slide {
    height: fit-content;
    flex: 1 0 100%;
  }
  @media (max-width: 1920px) {
    &__wrapper {
      margin-top: 203px;
    }
    &__advantages {
      margin-top: calc((50 / 1002) * 100vh);
      & .projects__content-description {
        margin-top: calc((15 / 1002) * 100vh);
      }
    }
    &__pagination {
      top: -121px;
    }
    &__slider {
      margin-top: 81px;
    }
    &__button {
      &-next,
      &-prev {
        top: -116px;
      }
    }
    &__content {
      @include adaptive-value-byX("grid-column-gap", 74, 69, 1920, 1440);
      &-description {
        margin-top: calc((30 / 1002) * 100vh);
      }
      &-image {
        height: calc((385 / 1002) * 100vh);
      }
    }
    &__button {
      &-prev {
        @include adaptive-value-byX("right", 84, 57, 1920, 1440);
      }
    }
    &__pagination {
      @include adaptive-value-byX("right", 192, 133, 1920, 1440);
    }
  }
  @media (max-width: 1440px) {
    &__wrapper {
      margin-top: 168px;
    }
    &__slider {
      margin-top: 60px;
    }
    &__content {
      grid-template-columns: 1.58fr 1fr;
      @include adaptive-value-byX("grid-column-gap", 69, 30, 1440, 1200);
      &-image {
        height: calc((281 / 760) * 100vh);
      }
      &-description {
        margin-top: 20px;
      }
    }
    &__pagination {
      right: 133px;
      top: -90px;
    }
    &__button {
      &-next,
      &-prev {
        top: -84px;
      }
      &-prev {
        right: 57px;
      }
    }
    &__advantages {
      margin-top: calc((60 / 760) * 100vh);
      & .projects__content-description {
        margin-top: calc((20 / 760) * 100vh);
      }
    }
  }
  @media (max-width: 1200px) {
    &__wrapper {
      margin-top: 162px;
    }
    &__content {
      grid-column-gap: 30px;
      grid-template-columns: 1.44fr 1fr;
      &-image {
        height: calc((243 / 720) * 100vh);
      }
    }
    &__advantages {
      margin-top: calc((64 / 720) * 100vh);
      & .projects__content-description {
        margin-top: calc((15 / 720) * 100vh);
      }
    }
    &__button {
      &-prev {
        right: 57px;
      }
    }
  }
  @media (max-width: 1040px) {
    &__advantages {
      margin-top: calc((45 / 720) * 100vh);
      & .projects__content-description {
        margin-top: calc((10 / 720) * 100vh);
      }
    }
  }
  @media (max-width: 860px) {
    &__content {
      grid-template-columns: 1fr;
      grid-gap: 0;
      &-box {
        justify-content: start;
        grid-column: 1 / span 1;
        margin-top: calc((40 / 1200) * 100vh);
      }
      &-image {
        grid-column: 1 / span 1;
        height: auto;
      }
    }
    &__slider {
      margin-top: 53px;
    }
    &__wrapper {
      grid-column: 1 / span 8;
      margin-top: 236px;
    }
    &__advantages {
      margin-top: calc((40 / 1200) * 100vh);
      grid-template-columns: repeat(2, 1fr);
      grid-column-gap: 30px;
      grid-row-gap: 60px;
    }
    &__pagination {
      top: -88px;
    }
    &__button {
      &-next,
      &-prev {
        top: -79px;
      }
    }
  }
  @media (max-width: 640px) {
    &__wrapper {
      grid-column: 1 / span 6;
      margin-top: 185px;
    }
    &__pagination {
      top: -82px;
    }
    &__button {
      &-next,
      &-prev {
        top: -80px;
      }
    }
    &__advantages {
      &-item {
        width: 100%;
      }
    }
  }
  @media (max-width: 500px) {
    &__wrapper {
      margin-top: calc((80 / 520) * 100vh);
    }
    &__slider {
      margin-top: 0;
    }
    &__slider-wrapper {
      position: relative;
      margin-bottom: calc((30 / 520) * 100vh);
    }
    &__pagination {
      top: auto;
      bottom: 0px;
      right: 15px;
    }
    &__button {
      &-next,
      &-prev {
        top: auto;
        bottom: 0px;
        left: 0;
        right: auto;
      }
      &-next {
        left: 60px;
      }
    }
    &__content {
      &-image {
        margin-top: calc((20 / 520) * 100vh);
      }
      &-description {
        margin-top: calc((10 / 520) * 100vh);
      }
    }
    &__advantages {
      display: none;
    }
  }
}

.visible > .projects__advantages-item:nth-child(1) {
  animation: showText 1s ease;
}
.visible > .projects__advantages-item:nth-child(2) {
  animation: showText 1.4s ease;
}
.visible > .projects__advantages-item:nth-child(3) {
  animation: showText 1.8s ease;
}
.visible > .projects__advantages-item:nth-child(4) {
  animation: showText 2.2s ease;
}

.visible > .projects__advantages-item {
  transform: translateY(0%);
  opacity: 1;
}
.hide.projects__content {
  transition: opacity 0.8s linear;
  opacity: 0;
}
.visible > .projects__advantages-item {
  transform: translateY(0%);
  opacity: 1;
}

@keyframes showText {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0%);
    opacity: 1;
  }
}
